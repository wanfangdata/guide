#Java编码规范
##说明
###范围
本规范规定了使用Java语言时排版、注释、命名、编码的规则和建议。  
本规范适用于使用Java语言成的产品和项目。  
###术语和定义
* 规则：必须遵守
* 建议：有充足的理由时
* 格式：对规范格式的说明或模板
* 说明：对规范或建议进行的必要解释
* 示例：对规范或建议从正反两方面给出的例子
* 补充：一些实践技巧或额外的说明  

##排版规则
###页宽
**规则：编辑器列宽应设置为100列**  
**说 明：**当一行代码的长度过长时，为了阅读方便，应该换行展示。但因为每个人的字体设置，屏幕大小有所不同，因此需要统一列宽为100列。  
**补 充：**  
在Eclipse中我们可以设置自动排版的单行代码最大宽度。选择：【Window】→【Preferences】→【Java】→【Code Style】→【Formatter】，点击“new”新建一个“Profile”（若已经是自定义的profile则不需要新建）。选择选项卡【Line Wrapping】,修改下边的“Maximum line width”为100。  
在Eclipse中我们可以在编辑界面设置一条参考线提醒我们代码宽度。选择：【Window】→【Preferences】→【General】→【Editors】→【Text Editors】。将右侧的单选框“Show print margin”设置为选中状态，然后设置下边的“Print margin column”为100。  
###缩进
**规则：程序块需要采用缩进风格编写，缩进为4个空格。**  
**说 明：**不同的编辑工具会导致Tab字符的宽度不统一，在编码时应注意其可能造成的问题。  
**补 充：**  
在Eclipse中我们可以设置Tab的宽度和输入空格数。  
选择：【Window】→【Preferences】→【General】→【Editors】→【Text Editors】。将右侧的“Display tab width”设置为4，将单选框“Insert spaces for tabs”设置为选中状态。  
选择：【Window】→【Preferences】→【Java】→【Code Style】→【Formatter】，点击“new”新建一个“Profile”（若已经是自定义的profile则不需要新建）。选择选项卡【Indentation】,将左侧的下拉框“Tab policy”改为Spaces only。然后修改“Tab size”为4。  
###空行
**规则：独立的程序块与变量声明之间加空行分割**
**示 例：**  
```java
//不符合规范
if(log.getLevel() < LogConfig.getRecordLevel()){
    return;
}
LogWriter writer;
int index;
```
```java
//符合规范
if(log.getLevel() < LogConfig.getRecordLevel()){
    return;
}

LogWriter writer;
int index; 
```  
###大括号
**规 则：使用大括号（即使是可选的）**  
**说 明：**大括号与if, else, for, do, while即使只有一条语句或是空，也应该把大括号写上。  
**示 例：**  
```java
//不符合规范的
if(writeToFile)
    writeFileThread.interrupt();
```
```java
//符合规范的
if(writeToFile){
    writeFileThread.interrupt();
}
```  

**规 则：对于非空块和块状结构，大括号遵循Kernighan和Ritchie风格（紧凑风格）。**
**说 明：**

* 左大括号前不换行  
* 左大括号后换行
* 右大括号前换行
* 如果右大括号是一个语句、函数体或类的终止，则右大括号后换行; 否则不换行。例如，如果右大括号后面是else或逗号，则不换行  

**示例：**  
```java
//不符合规范
if(isOk)
{
	someThing();
}
else
{
	otherThing();
}
```
```java
//符合规范
if(isOk){
	someThing();
}else{
	otherThing();
}
```  
**补充：**  
Kernighan和Ritchie风格指的是，Kernighan和Ritchie的《C Programming Language》一书中约定的“大括号放在同一行”规则。这种编码风格比较紧凑，也是Java官方和Google等诸多主流公司遵循的编码风格。  

**建 议：空块可以简洁的写成{}，除非它是多块语句的一部分。**  
**说 明：**一个空的块状结构里什么也不包含，大括号可以简洁地写成{}，不需要换行。例外：如果它是一个多块语句的一部分(if/else 或 try/catch/finally) ，即使大括号内没内容，右大括号也要换行。  
**示例：**  
```java
void doNothing() {}
``` 
###小括号
**规 则：用小括号来限定计算优先级**  
**说 明：**没有理由假设代码的阅读者能够清晰的记住整个Java运算符优先级表。
###空格
**规 则：函数参数在“，”后需要加空格。**  
**规 则：各种双目操作符，比如“=”，“<”等，前后都要加空格。**  
**规 则：if, while等关键字后面需要有空格。**  
**补 充：**基本上Eclipse的自动格式化功能，就能保证这些空格的正确使用。
###TODO
**规 则：TODO用于任务标记，要避免出现无用的TODO标记**  
**说 明：**自动生成代码中如果有TODO标记，请根据需要编写注释或删除TODO标记，避免产生无用的TODO，影响他人跟踪任务。
###import
**规 则：import不要使用通配符**  
**说 明：** 不要出现类似这样的import语句：import java.util.*。使用通配符会造成歧义，及不可预期的冲突或bug。程序应保持清晰、易懂、无歧义。  

**规 则：import不要引用不需要的包**  
###变量
**规 则：每次只声明一个变量**  
**说 明：**不要使用组合声明（int a,b;），减少歧义性，增强可读性  

**规 则：需要时才声明，并尽快进行初始化**  

**规 则：使用非C风格的数组声明**    
**说 明：**使用String[] args，而非String args[]  

**建 议：谨慎的使用公共变量**  
**说 明：**公共变量是增大模块间耦合的原因之一，应减少没必要的公共变量以降低模块间的耦合度。  
##命名规范
###package
**规 则：包名均采用小写**  
**建 议：包名一般为一个单词**  

**规 则：内部包名格式为：部门名称.产品名/项目名.模块名，通用模块统一放在wfks包下**  
**示 例：**  
```java
Relay模块包名  wfks.msg.relay
通用日志模块包名 wfks.msg.log
```  
###Class
**规 则：类的命名应该都是名词**  
**规 则：类名第一个字母要为大写，其他每个单词的第一个字母为大写（UpperCamelCase）**  
**规 则：类名要用完整的单词，除非是被公认的单词缩写**  
**规 则：抽象类命名应以Abstract为开头**  
###Interface
**规 则：接口名的命名应该是名词或形容词**  
**规 则：接口名应以大写的I开头，其他单词第一个字母都要大写（UpperCamelCase）**  
**规 则：接口名要用完整的单词，除非是被公认的单词缩写**  
###方法命名
**规 则：方法名应以动词或惯用短语描述**  
**规 则：方法名第一个字母都要小写，其他每个单词第一个字母都要大写（lowerCamelCase）**  

**建 议：方法名中不要加入对象名字，可能会带来误解。**  
**说 明：**因为对象本身已经包含在调用语句中了
###变量
**规 则：参数名第一个字母使用小写，其他每个单词第一个字母大写（lowerCamelCase）**  
**规 则：参数应避免用单个字符命名**  

**规 则：常量名应该为名词或名词短语**  
**规 则：常量名每一个字母都应为大写，单词之间用“_”分开**  

**规 则：局部变量名第一个字母使用小写，其他每个单词第一个字母大写（lowerCamelCase）**  
**规 则：局部变量名可以更宽松的使用缩写，但除了临时变量和循环变量应避免单字符命名。**  
##Creators
[梅葆瑞](https://github.com/meibaorui)  
[李辉]()  
[张锐](https://github.com/pizirui)  

